{"ast":null,"code":"import axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\nconst API_URL = \"http://localhost:3000/auth\";\nconst register = async (firstName, lastName, username, email, password) => {\n  const data = {\n    firstname: firstName,\n    lastname: lastName,\n    username: username,\n    email: email,\n    password: password\n  };\n  try {\n    await axios.post(`${API_URL}/register`, data);\n    const token = login(username, password);\n    document.cookie = `jwt=${token}; path=/; expires=${token}; secure; SameSite=strict`;\n  } catch (error) {\n    throw error;\n  }\n};\nconst login = async (username, password) => {\n  try {\n    const data = {\n      username: username,\n      password: password\n    };\n    const response = await axios.post(`${API_URL}/login`, data);\n    return response.data.token;\n  } catch (error) {\n    throw error;\n  }\n};\nexport { register, login };","map":{"version":3,"names":["axios","jwt","API_URL","register","firstName","lastName","username","email","password","data","firstname","lastname","post","token","login","document","cookie","error","response"],"sources":["/Users/sanyamkoul/Documents/Web_App/Chat Application/chat_application/src/services/authService.js"],"sourcesContent":["import axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\n\nconst API_URL = \"http://localhost:3000/auth\";\n\nconst register = async (firstName, lastName, username, email, password) => {\n  const data = {\n    firstname: firstName,\n    lastname: lastName,\n    username: username,\n    email: email,\n    password: password,\n  };\n\n  try {\n    await axios.post(`${API_URL}/register`, data);\n    const token = login(username, password);\n    document.cookie = `jwt=${token}; path=/; expires=${token}; secure; SameSite=strict`;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst login = async (username, password) => {\n  try {\n    const data = {\n      username: username,\n      password: password,\n    };\n    const response = await axios.post(`${API_URL}/login`, data);\n    return response.data.token;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport { register, login };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,cAAc;AAE9B,MAAMC,OAAO,GAAG,4BAA4B;AAE5C,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EACzE,MAAMC,IAAI,GAAG;IACXC,SAAS,EAAEN,SAAS;IACpBO,QAAQ,EAAEN,QAAQ;IAClBC,QAAQ,EAAEA,QAAQ;IAClBC,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA;EACZ,CAAC;EAED,IAAI;IACF,MAAMR,KAAK,CAACY,IAAI,CAAE,GAAEV,OAAQ,WAAU,EAAEO,IAAI,CAAC;IAC7C,MAAMI,KAAK,GAAGC,KAAK,CAACR,QAAQ,EAAEE,QAAQ,CAAC;IACvCO,QAAQ,CAACC,MAAM,GAAI,OAAMH,KAAM,qBAAoBA,KAAM,2BAA0B;EACrF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAMH,KAAK,GAAG,MAAAA,CAAOR,QAAQ,EAAEE,QAAQ,KAAK;EAC1C,IAAI;IACF,MAAMC,IAAI,GAAG;MACXH,QAAQ,EAAEA,QAAQ;MAClBE,QAAQ,EAAEA;IACZ,CAAC;IACD,MAAMU,QAAQ,GAAG,MAAMlB,KAAK,CAACY,IAAI,CAAE,GAAEV,OAAQ,QAAO,EAAEO,IAAI,CAAC;IAC3D,OAAOS,QAAQ,CAACT,IAAI,CAACI,KAAK;EAC5B,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAED,SAASd,QAAQ,EAAEW,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}